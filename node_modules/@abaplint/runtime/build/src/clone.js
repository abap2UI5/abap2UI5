"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.clone = clone;
const types_1 = require("./types");
function clone(obj) {
    if (null == obj || "object" != typeof obj) {
        return obj;
    }
    if (obj instanceof types_1.ABAPObject) {
        const n = new types_1.ABAPObject();
        n.set(obj.get());
        // @ts-ignore
        return n;
    }
    else if (obj instanceof types_1.DataReference) {
        const n = new types_1.DataReference(obj.getType());
        n.assign(obj.getPointer());
        // @ts-ignore
        return n;
    }
    else if (obj instanceof types_1.HexUInt8) {
        const n = new types_1.HexUInt8({ length: obj.getLength(), qualifiedName: obj.getQualifiedName() });
        n.set(obj.get());
        // @ts-ignore
        return n;
    }
    // @ts-ignore
    const copy = new obj.constructor();
    for (const attr in obj) {
        // @ts-ignore
        // eslint-disable-next-line no-prototype-builtins
        if (obj.hasOwnProperty(attr)) {
            if ("object" !== typeof obj[attr]) {
                copy[attr] = obj[attr];
            }
            else {
                copy[attr] = clone(obj[attr]);
            }
        }
    }
    if (copy["constant"]) {
        copy["constant"] = false;
    }
    return copy;
}
//# sourceMappingURL=clone.js.map